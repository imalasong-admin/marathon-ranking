# Marathon Ranking 项目资源使用及监控指南

## ⚠️ 重要说明
本项目现阶段严格使用免费资源，不使用任何付费服务。任何需要付费的功能或服务都需要项目负责人的明确批准。

## 服务使用情况

### 1. Vercel 托管
#### 免费额度
- 带宽：100GB/月
- 构建时间：100 小时/月
- 无服务器函数执行：100GB-小时/月
- 团队成员：最多 1 人
- 自动 HTTPS/SSL
- 持续部署

#### 付费触发点
- 超过任何以上限制
- 需要添加团队成员
- 需要更多自定义域名
- 需要企业级功能（如SAML SSO）

#### 监控方法
1. 登录 Vercel 控制台
2. 查看 Usage 页面中的：
   - Bandwidth Usage
   - Build Minutes
   - Serverless Function Execution
3. 设置邮件通知，在接近限制时收到提醒

### 2. MongoDB Atlas (M0 免费版)
#### 免费额度
- 存储空间：512MB
- 共享 RAM
- 每个集群最多 100 连接
- 基本备份功能
- 共享集群资源

#### 付费触发点
- 数据存储超过 512MB
- 需要专用资源（不共享）
- 需要更多并发连接
- 需要高级备份功能
- 需要特定地区的服务器

#### 监控方法
1. 登录 MongoDB Atlas
2. 在集群概览页面查看：
   - 数据存储使用量
   - 连接数
   - 操作数统计
3. 定期检查数据增长趋势

### 3. Next.js 框架
- 完全免费（开源软件）
- 无使用限制
- 无需监控额度

### 4. Resend 邮件服务
# 免费额度
- 每月100封邮件
- 开发环境统一发送到测试邮箱
- 基本邮件功能支持

# 监控方法
1. 登录 Resend 控制台
2. 查看邮件发送统计
3. 监控发送量接近限制

# 避免超额
1. 开发环境使用测试邮箱
2. 生产环境谨慎使用
3. 设置额度提醒

# 域名配置状态
- 域名：imalasong.com
- MX 记录：已验证
- SPF 记录：已验证
- DKIM 记录：验证中
- DMARC 记录：已配置（可选）

# 发信设置
- 开发环境：onboarding@resend.dev
- 生产环境：等待域名验证后使用 noreply@imalasong.com

### 5.  Zoho Mail @imalasong.com 域名的邮箱托管服务。
- 免费提供 5 个域名邮箱
- 每个邮箱 5GB 存储
- 可以网页版、手机 App、邮件客户端访问
- 支持收发邮件，提供 API 发送邮件

### 域名设置
#### GoDaddy
- 域名：imalasong.com
- DNS 记录配置：
  * Vercel 解析记录
  * Resend 邮件服务记录（MX, SPF, DKIM, DMARC）

#### Vercel 域名
- 主域名：imalasong.com
- 自动 HTTPS/SSL：已启用
- 原域名：marathon-ranking.vercel.app（保留）

## 月度检查清单
每月初进行以下检查：

1. Vercel 使用量
- [ ] 检查带宽使用量
- [ ] 检查构建时间
- [ ] 检查函数执行情况

2. MongoDB Atlas 使用量
- [ ] 检查数据库大小
- [ ] 检查连接数峰值
- [ ] 检查性能指标

3. Resend 使用量


## 预警机制
1. 当任何服务达到免费额度的 80% 时：
   - 通知开发团队
   - 评估增长趋势
   - 制定应对策略

2. 触发预警时的处理流程：
   - 立即停止非必要的资源消耗
   - 评估是否需要数据清理
   - 考虑优化方案
   - 必要时请求提高限额审批

## 避免意外收费
1. 确保不要：
   - 创建任何 AWS 服务
   - 升级到付费版本
   - 启用额外功能

2. 定期检查：
   - 所有服务的账单
   - 使用量统计
   - 服务配置

3. 保持警惕：
   - 仔细阅读所有升级提示
   - 不随意点击"升级"或"试用"按钮
   - 对任何可能产生费用的操作进行二次确认

## 项目扩展建议
1. 短期扩展考虑：
   - 优化现有资源使用
   - 在免费额度内寻找替代方案
   - 仅在必要时提出付费服务申请

2. 长期扩展准备：
   - 预留多语言支持的架构
   - 保持响应式设计的兼容性
   - 模块化设计便于将来扩展

## 静态资源管理
1. 图片资源
   - 存放在 public/images 目录
   - 控制单个图片大小
   - 使用优化的图片格式

2. 资源命名规范
   - 使用有意义的文件名
   - 遵循项目命名规范
   - 保持文件组织结构清晰
